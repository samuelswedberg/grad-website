<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sim Racing Wheel</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0b0e1a] text-white font-sans min-h-screen flex flex-col">
<!-- Header -->
  <header class="bg-[#0b0e1a] text-white px-6 py-4 border-b border-gray-800 flex justify-between items-center">
    <div>
      <h1 class="text-lg font-bold">Samuel Swedberg</h1>
      <p class="text-sm text-gray-400">Computer Engineer</p>
    </div>
    <nav class="flex gap-6 text-sm font-medium text-gray-300">
      <a href="../index.html" class="hover:text-white relative after:absolute after:left-0 after:-bottom-1 after:w-0 hover:after:w-full after:h-[2px] after:bg-blue-500 after:transition-all">Home</a>
      <a href="../projects.html" class="hover:text-white relative after:absolute after:left-0 after:-bottom-1 after:w-0 hover:after:w-full after:h-[2px] after:bg-blue-500 after:transition-all">Projects</a>
      <!--<a href="blog.html" class="hover:text-white relative after:absolute after:left-0 after:-bottom-1 after:w-0 hover:after:w-full after:h-[2px] after:bg-blue-500 after:transition-all">Blog</a>-->
      <a href="../about.html" class="hover:text-white relative after:absolute after:left-0 after:-bottom-1 after:w-0 hover:after:w-full after:h-[2px] after:bg-blue-500 after:transition-all">About</a>
    </nav>
  </header>

<main class="flex-1 px-6 py-12 max-w-3xl mx-auto space-y-10">
  <article class="space-y-6">
    <img src="../media/sdposter.jpg" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto" />
    <h1 class="text-4xl font-bold pb-4">Sim Racing Wheel</h1>
    <a href="https://www.youtube.com/watch?v=K_I2sCAWH18" target="_blank" class="hover:underline text-blue-400">Click here to see the Demo Video</a>
    <p class="text-gray-300 text-lg">
      The goal was to design a steering wheel, wheelbase, and pedals compatible with sim racing and automotive video games.
      The steering wheel is Formula 1 style and features real-time telemetry data.
      The wheelbase features a belt driven motor for force feedback.
    </p>

    <h2 class="text-2xl font-semibold mt-8 mb-4">NDSU Senior Design Expo Poster</h2>
    <img src="../media/poster.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto" />

    <section>
      <h2 class="text-2xl font-semibold mt-8 mb-4">Key Features</h2>
      <ul class="list-disc pl-6 space-y-1 text-gray-300">
        <li>Custom-designed 3D printed wheelbase enclosure along with aluminum extrusion as a base frame</li>
        <li>Belt driven motor provides realistic force feedback</li>
        <li>Utilizes STM32 microcontrollers and C firmware</li>
        <li>The data can be displayed through the telemetry screen or a Neopixel RPM array</li>
        <li>User input is received via buttons, encoders, and hall effect sensor paddles</li>
        <li>The steering wheel and pedals are connected directly to the wheelbase via USB cables</li>
      </ul>
    </section>

    <section>
      <h2 class="text-2xl font-semibold mt-8 mb-4">Tools & Tech</h2>
      <ul class="list-disc pl-6 space-y-1 text-gray-300">
        <li>C, FreeRTOS, CAN, UART</li>
        <li>STM32F446, STM32F103</li>
        <li>CAD in Fusion 360, PCB Design in Fusion 360 Electronics</li>
        <li>3D printing (ABS, PLA, PA6-CF)</li>
      </ul>
    </section>

    <section>
      <h2 class="text-2xl font-semibold mt-8 mb-4">Links</h2>
      <ul class="text-blue-400 space-y-2">
        <li><a href="https://github.com/samuelswedberg/sim-wheel" target="_blank" class="hover:underline">GitHub Repository</a></li>
        <li><a href="https://www.youtube.com/watch?v=K_I2sCAWH18" target="_blank" class="hover:underline">Demo Video</a></li>
        <li><a href="https://github.com/samuelswedberg/sim-wheel/blob/main/docs/OneNote.md" target="_blank" class="hover:underline">Documentation</a></li>
      </ul>
    </section>

    <section>
      <h2 class="text-2xl font-semibold mt-8 mb-4">Photos</h2>
      <img src="../media/sim-wheel.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
      <img src="../media/inside.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
      <img src="../media/pcbwb.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
      <img src="../media/pcbsw.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
      <img src="../media/pcbpdl.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
      <img src="../media/cad.png" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
      <img src="../media/us.jpg" alt="Sim Racing Wheel" class="rounded-lg shadow-lg w-full max-w-3xl mx-auto pb-6" />
    </section>

    <section>
      <h2 class="text-2xl font-semibold mt-8 mb-4">"Super Technical" Section</h2>
        <p class="text-gray-300 text-lg mb-4">
          This section is more tailored for those who are more technical and want to understand what's going on under the hood.
        </p>
        <p class="text-gray-300 text-lg mb-4">
          The system uses a CAN bus network to handle communication between the three main components: the wheelbase, steering wheel, and pedals.
          Each device is assigned a unique CAN ID for message identification and filtering: 
          <ul class="list-disc pl-6 space-y-1 text-gray-300 mb-4">
            <li>Wheelbase: 0x100</li>
            <li>Steering Wheel: 0x200</li>
            <li>Pedals: 0x300</li>
          </ul>
        </p>
        <p class="text-gray-300 text-lg mb-4">
          These identifiers enable each node to selectively process relevant messages using hardware filtering or software-level message parsing, ensuring efficient and organized communication across the bus.
        </p>
        <p class="text-gray-300 text-lg mb-4">
          The wheelbase serves as the central hub of the system and handles both force feedback and inter-device communication.
          Powered by an STM32F446 microcontroller.
          Runs FreeRTOS to manage real-time tasks, including motor control, CAN communication, and USB interaction.
          Implements a composite USB device driver (HID + CDC), allowing the system to be recognized as a standard game controller in Windows.
          Leverages Windows native gamepad support for broad compatibility across racing titles.
          Acts as the primary node on the CAN bus (ID: 0x100), receiving inputs from the steering wheel and pedals and handling motor response accordingly.
        </p>
        <p class="text-gray-300 text-lg mb-4">
          The steering wheel provides user input and real-time telemetry display.
          Receives telemetry data from the wheelbase over CAN bus.
          Displays information such as RPM, gear, and speed using an LCD display and can support Neopixel array.
          Includes buttons, rotary encoders, and paddle switches for interactive input.
          The paddle activation is measured using hall effect sensors and magnets.
          Sends control inputs back to the wheelbase for processing and transmission to the PC.
        </p>
        <p class="text-gray-300 text-lg mb-4">
          The pedal system captures driver input and relays it to the wheelbase.
          Uses a potentiometer to measure the angle of the pedal arm, however going forward I would recommend hall effect sensors or a load cell for measuring angle/force.
          Sends position data (throttle, brake, clutch) to the wheelbase for inclusion in the USB game controller report.
        </p>
        <p class="text-gray-300 text-lg mb-4">
          The system is complemented by a custom Python application running on the PC, which acts as the communication bridge between the game telemetry and the embedded hardware. 
          It reads telemetry data from the video game, in our case Assetto Corsa.
          Assetto Corsa supports a shared memory from the kernel level which allows us to parse it in real-time.
          Intially we tried to use a UDP socket to the game, however it would be behind by a couple of seconds. The UDP socket is primarily useful for logging and reviewing session data afterwards, not real-time telemetry.
          The shared memory library along with our application is then able to transmit relevant values—such as RPM, speed, gear, and DRS status—over serial to the STM32 devices. 
        </p>
    </section>
  </article>
</main>

<footer class="text-center text-sm text-gray-500 py-6 border-t border-gray-800 bg-[#0b0e1a]">
  © 2025 Samuel Swedberg
</footer>

</body>
</html>